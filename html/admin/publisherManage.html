<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../resource/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../resource/font-awesome-4.7.0/css/font-awesome.min.css">
    <title>发包人员管理</title>
</head>

<body style="background-image: url(../../image/papper.png)">
    <div id="main" class="container">
        <nav class="navbar navbar-expand-md bg-dark navbar-dark shadow p-3 mb-3 mt-3 rounded sticky-top">
            <a class="navbar-brand" href="#">CrowdSourcing</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="censor.html"><i class="fa fa-check-square-o"></i>注册审核</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false"><i class="fa fa-id-card-o"></i>
                            人员管理
                        </a>
                        <div class="dropdown-menu shadow" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#"><i class="fa fa-send"></i>发包人员管理</a>
                            <a class="dropdown-item" href="receiverManage.html"><i class="fa fa-coffee"></i>接包人员管理</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="company.html"><i class="fa fa-suitcase"></i>公司管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html"><i class="fa fa-user-circle"></i>个人信息</a>
                    </li>
                    <img src="http://static.runoob.com/images/mix/cinqueterre.jpg" class="rounded-circle" alt="Cinque Terre"
                        style="width:40px; height:40px;">
                    <li class="nav-item ">
                        <a class="nav-link" href="#">[注销账号]</a>
                    </li>
                </ul>
                <!-- <form class="form-inline my-2 my-lg-8">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                </form> -->
            </div>
        </nav>

        <!-- content -->
        <div class="container-fluid shadow bg-light" style="padding: 0px; margin: 0px;">
            <!-- card -->
            <div class="card bg-muted" style="height: 657px ;">
                <div class="card-header">
                    <div class="custom-control  custom-control-inline">
                        <h3>发包人员管理</h3>
                    </div>
                    <button class="btn btn-success btn-sm" @click="add"><i class="fa fa-user-plus"></i>新增人员</button>
                </div>

                <div class="card-body">
                    <!-- different views in unique size window -->
                    <div class="table-responsive rounded">
                        <div class="text-center">
                            <!-- dark table + hover effect + grey hover + set border + small table -->
                            <table class="table table-dark table-hover table-striped table-sm ">
                                <thead>
                                    <tr>
                                        <th style="width:20%;">用户名</th>
                                        <th style="width:20%;">姓名</th>
                                        <th style="width:20%;">手机</th>
                                        <th style="width:20%;">邮箱</th>
                                        <th style="width:20%;">修改</th>
                                    </tr>
                                </thead>
                                <!-- add a new publisher by administrator -->
                                <tbody >
                                    <tr v-if="visual" >
                                        <td><input type="text" class="form-control" placeholder="Name"></td>
                                        <td><input type="text" class="form-control" placeholder="Username"></td>
                                        <td><input type="text" class="form-control" placeholder="PhoneNumber"></td>
                                        <td><input type="text" class="form-control" placeholder="E-mail"></td>
                                        <td><button class="btn btn-primary btn-sm flex-fill" @click="confirm"><i class="fa fa-user-plus"></i>通过</button></td>
                                    </tr>
                                    <tr v-for="person in info" >
                                        <td>{{person.name}}</td>
                                        <td>{{person.username}}</td>
                                        <td>{{person.phone}}</td>
                                        <td>{{person.mail}}</td>
                                        <td>
                                            <!-- small button with the click event reload the page  -->
                                            <button class="btn btn-danger btn-sm flex-fill" @click='refuse(person.id)'><i
                                                    class="fa fa-user-times"></i>删除</button>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="../../resource/vue/vue.js"></script>
<script src="../../resource/jquery/jquery.js"></script>
<script src="../../resource/bootstrap/js/bootstrap.js"></script>
<script>
    var main = new Vue({
        el: '#main',
        data: {
            info: [],
            visual: false,
        },
        // created() {
        //     var that = this;
        //     $.post("../../php/admin/fetchUncensored.php", {}).done((data) => {
        //         data = JSON.parse(data);
        //         data.forEach(user => {
        //             that.info.push(user);
        //         });
        //     })

        // },
        methods: {
            add: function () {
                this.visual = !this.visual;
            },
            confirm: function () {
                this.visual = false;
            }
        }
    })
</script>

</html>